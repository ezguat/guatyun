<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">
    <title>用户登录</title>
    <link href="../bootstrap-3.3.7-dist/css/bootstrap.css" type="text/css" rel="stylesheet">
    <link href="../bootstrap-3.3.7-dist/css/bootstrap-theme.css" type="text/css" rel="stylesheet">
    <script src="../js/jquery-3.1.0.min.js"></script>
    <script src="../bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <link rel="shortcut icon" href="../browser_internet_18.468085106383px_1138845_easyicon.net.png">
</head>
<style>
    .container-fluid{
        /*background-color: rebeccapurple;*/
        width: 100%;
        height: 100%;
    }
    @media (min-width: 350px) {
        .col-md-1{
            width: 750px;
        }
    }
    @media (min-width: 1200px) {
        .col-md-1{
            margin-top: 10px;
            width: 150px;
            height: 30px;
        }
        .col-md-2{
            margin-top: 10px;
            width: 150px;
            height: 30px;
        }
    }
    @media (width: 1680px) {
        .col-md-1{
            margin-top: 10px;
            width: 150px;
            height: 30px;
        }
    }
    @media (width: 1600px) {
        .col-md-1{
            margin-top: 10px;
            width: 150px;
            height: 30px;
        }
    }
    @media screen and (width: 1440px  ) {
        .col-md-1{
            margin-top: 10px;
            width: 135px;
            height: 30px;
        }
    }
    @media screen and (width: 1400px) {
        .col-md-1{
            margin-top: 10px;
            width: 130px;
            height: 24px;
        }
        .col-md-2{
            font-size: small;
        }

    }
    @media screen and (width: 1366px) {
        .col-md-1{
            margin-top: 6px;
            width: 125px;
            height: 24px;
        }
        .col-md-2{
            font-size: small;
        }

    }
</style>
<body  style="width: 100%;height: 100%;background-color: #f6f6f6;overflow-y: hidden" >
<div class="container-fluid">
    <div style="background-color: #00c1de;height: 5%" class="row">
        <div style="margin-left: 10%" class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../index.html" style="text-decoration: none;color: white"><p id="change1" style="font-family: 'Microsoft YaHei UI';font-size: large">首页</p></a></div>
        <div class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/production.html" style="text-decoration: none;color: white"><p  id="change2" style="font-family: 'Microsoft YaHei UI';font-size: large">提供服务</p></a></div>
        <div class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/help.html" style="text-decoration: none;color: white"><p id="change3"  style="font-family: 'Microsoft YaHei UI';font-size: large">帮助中心</p></a></div>
        <div class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/advice.html" style="text-decoration: none;color: white"><p  id="change4" style="font-family: 'Microsoft YaHei UI';font-size: large">留言反馈</p></a></div>
        <div class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/join.html" style="text-decoration: none;color: white"><p  id="change5" style="font-family: 'Microsoft YaHei UI';font-size: large">加入我们</p></a></div>
        <div class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/aboutus.html   " style="text-decoration: none;color: white"><p  id="change6" style="font-family: 'Microsoft YaHei UI';font-size: large">关于我们</p></a></div>
        <div style="margin-left: 15%" class="col-md-1"><a id="link" onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/login.html" style="text-decoration: none;color: white"><p id="change" style="font-family: 'Microsoft YaHei UI';font-size: medium">登录</p></a></div>
        <div id="gone" class="col-md-1"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/register.html" style="text-decoration: none;color: white"><p  id="change8" style="font-family: 'Microsoft YaHei UI';font-size: medium">注册</p></a></div>
        <div id="show" style="display: none" class="col-md-1"><a onclick="
    localStorage.removeItem('name');
      localStorage.removeItem('passwd');
      window.location.reload();
" onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="#" style="text-decoration: none;color: white"><p id="change9"  style="font-family: 'Microsoft YaHei UI';font-size: medium">注销</p></a></div>
    </div>
    <div id="warning2"  style="position: absolute;height: 5%;display: none;width: 100%" class="row">
        <div  style="width: 100%;margin: 0px" class="alert alert-warning alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong id="alert-content2">请检查一下你的邮箱是否符合标准！</strong>
        </div>
    </div>
    <div id="warning"  style="position: absolute;height: 5%;display: none;width: 100%" class="row">
        <div  style="width: 100%;margin: 0px" class="alert alert-warning alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong id="alert-content">请检查一下你的邮箱是否符合标准！</strong>
        </div>
    </div>
    <div id="success" style="height: 5%;position: absolute;width: 100%;display: none" class="row">
        <div  class="alert alert-success" style="width: 100%;" role="alert">
            <a href="#" class="alert-link">注册成功！跳转中.....</a>
        </div>
    </div>    <div style="margin-top: 1%;height: 10%" class="row">
        <div id="big"  style="width: 100%;height: 100%;">
            <center><p style="font-family: 'Microsoft YaHei UI';font-size: 40px;margin-top: 3%">用户注册</p></center>
            <div style="height: 50%;width: 20%;margin-left: 40%;margin-top: 2%">
                <div class="input-group">
                    <span class="input-group-addon">新用户名</span>
                    <input id="name" placeholder="请使用 a-z 或中文长度大于6，小于12" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                </div>
                <div class="input-group" style="margin-top: 5%">
                    <span class="input-group-addon">用户密码</span>
                    <input id="password" placeholder="请输入密码" type="password" class="form-control" aria-label="Amount (to the nearest dollar)">
                </div>
                <div class="input-group" style="margin-top: 5%">
                    <span class="input-group-addon">用户邮箱</span>
                    <input id="email" placeholder="推荐使用QQ邮箱" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                </div>
                <div class="input-group" style="margin-top: 5%">
                    <span class="input-group-addon">手机号码</span>
                    <input id="number" placeholder="仅支持大陆" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
                </div>
                <div style="margin-top: 5%">
                    <p style="font-family: 'Microsoft YaHei UI';display: inline-block">验证码:</p>
                    <input id="input" style="width: 70%;display: inline-block" placeholder="请输入验证码" class="form-control" aria-label="Amount (to the nearest dollar)">
                    <input style="border:0px;border-radius: 5%;background-color: #f6f6f6" type = "button" id="code" onclick="createCode()"/>
                </div>
                <button   id="myButton" data-loading-text="Loading..." autocomplete="off"   onclick="
         var inputCode = document.getElementById('input').value.toUpperCase(); //取得输入的验证码并转化为大写
        var time=new Date();
         if($('#name').val()&&$('#password').val()&&$('#email').val()&&$('#number').val())
{
    var reg=/^[A-Za-z0-9]{6,12}$/;
    var rule=$('#name').val();
     if(!reg.test(rule)){
 document.getElementById('alert-content2').innerHTML='名字不符合规定！';
        $('#warning2').css('display','block');
        setTimeout(function() {
          $('#warning2').css('display','none');
        },3000)
     }
     else {
            var reg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
    var rule=$('#email').val();
    if(!reg.test(rule)){
      document.getElementById('alert-content2').innerHTML='邮箱格式不符合规定！';
        $('#warning2').css('display','block');
        setTimeout(function() {
          $('#warning2').css('display','none');
        },3000)
        }
        else {
                 var reg=/^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;
                    var rule=$('#number').val();
                    if(!reg.test(rule)){
                    document.getElementById('alert-content2').innerHTML='手机号码不符合规定！';
        $('#warning2').css('display','block');
        setTimeout(function() {
          $('#warning2').css('display','none');
        },3000)

              }
              else {

                 if(inputCode!=code ) { //若输入的验证码与产生的验证码不一致时
                        document.getElementById('alert-content').innerHTML='验证码输入错误！';
                        $('#warning').css('display','block');
                        setTimeout(function() {
                            $('#warning').css('display','none');
                        },3000)
                        createCode();//刷新验证码
                        document.getElementById('input').value ='';//清空文本框
        }
        else {
$.get('../php/register.php',{name:$('#name').val(),password:$('#password').val(),email:$('#email').val(),number:$('#number').val(),retime:time.toTimeString().split('GMT')[0]+time.toUTCString().split('2017')[0]+time.getFullYear()},function (data) {
})
                       $('#success').css('display','block');
                       setTimeout(function() {
                           window.location.href='../content/login.html';
                       },2000);
        }
              }
        }
     }
}
else {
        document.getElementById('alert-content').innerHTML='请注意内容有空！';
        $('#warning').css('display','block');
        setTimeout(function() {
          $('#warning').css('display','none');
        },3000)
}" style="margin-left: 85%;margin-top: 5%;border-radius: 10%;height: 30px;width: 60px;border: 0px;background-color: #62b900">
                    <p style="font-family: 'Microsoft YaHei UI';font-size: 15px;color: white;margin-top: 5%">注册</p>
                </button>
            </div>
        </div>
    </div>
</div>
<div id="mobile" style="display: none;border: 0px;height: 100%;width: 100%">
    <div  style="width: 100%;height:8%;background-color: #00c1de;">
        <div style="margin-top:3%;margin-left: 55%;height: 100%;width: 15%;display: inline-block"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/login.html" style="text-decoration: none;color: white"><p  style="font-family: 'Microsoft YaHei UI';font-size: medium">登录</p></a></div>
        <div style="margin-left: 0%;height: 100%;width: 15%;display: inline-block"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/register.html" style="text-decoration: none;color: white"><p  style="font-family: 'Microsoft YaHei UI';font-size: medium">注册</p></a></div>
        <span onclick="
           $('#canvas').css('display','block')
" style="color: white" class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>
    </div>
    <div id="canvas" style="position: absolute;height: 94%;margin-top: 0%;width: 100%;background-color: black;opacity: 0.9;z-index: 999;display: none">
        <div style=";border-bottom: 1px silver solid;margin-top: 1%;height: 8%;width: 100%;"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../index.html" style="text-decoration: none;color: white"><p  style="font-family: 'Microsoft YaHei UI';font-size: large;margin-left: 5%">首页</p></a></div>
        <div style=";border-bottom: 1px silver solid;margin-top: 1%;height: 8%;width: 100%;"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/production.html" style="text-decoration: none;color: white"><p  style="font-family: 'Microsoft YaHei UI';font-size: large;margin-left: 5%">提供服务</p></a></div>
        <div style=";border-bottom: 1px silver solid;margin-top: 1%;height:8%;width: 100%;"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/help.html" style="text-decoration: none;color: white"><p  style="font-family: 'Microsoft YaHei UI';font-size: large;margin-left: 5%">帮助中心</p></a></div>
        <div style=";border-bottom: 1px silver solid;margin-top: 1%;height: 8%;width: 100%;"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/advice.html" style="text-decoration: none;color: white"><p   style="font-family: 'Microsoft YaHei UI';font-size: large;margin-left: 5%">留言反馈</p></a></div>
        <div style=";border-bottom: 1px silver solid;margin-top: 1%;height: 8%;width: 100%;"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/join.html" style="text-decoration: none;color: white"><p   style="font-family: 'Microsoft YaHei UI';font-size: large;margin-left: 5%">加入我们</p></a></div>
        <div style=";border-bottom: 1px silver solid;margin-top: 1%;height: 8%;width: 100%;"><a onmouseenter="this.style='text-decoration: none;color:black'" onmouseleave="this.style='text-decoration: none;color:white'" href="../content/aboutus.html   " style="text-decoration: none;color: white"><p  style="font-family: 'Microsoft YaHei UI';font-size: large;margin-left: 5%">关于我们</p></a></div>
        <p onclick="     $('#canvas').css('display','none')" style="margin-left: 80%;font-family: 'Microsoft YaHei UI';font-size: 20px;color: whitesmoke;margin-top: 40%">收起</p>
    </div>
    <div style="display: none;margin: 0px" id="warning2-m" class="alert alert-danger alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong id="alert-content2-m">请检查一下你的邮箱是否符合标准！</strong>
    </div>
    <div style="display: none;margin: 0px" id="warning-m" class="alert alert-warning alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong id="alert-content-m">请检查一下你的邮箱是否符合标准！</strong>
    </div>
    <div id="success-m" style="display: none" class="alert alert-success" role="alert">你已经注册成功！现在跳转到登录页面！</div>
    <div id="big-m"  style="width: 100%;height: 100%;">
        <center><p style="font-family: 'Microsoft YaHei UI';font-size: 20px;margin-top: 3%">用户注册</p></center>
        <div style="height: 50%;width: 80%;margin-left: 10%;margin-top: 2%">
            <div class="input-group">
                <span class="input-group-addon">新用户名</span>
                <input id="name-m" placeholder="请使用 a-z 或中午长度小于12" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
            </div>
            <div class="input-group" style="margin-top: 5%">
                <span class="input-group-addon">用户密码</span>
                <input id="password-m" placeholder="请输入密码" type="password" class="form-control" aria-label="Amount (to the nearest dollar)">
            </div>
            <div class="input-group" style="margin-top: 5%">
                <span class="input-group-addon">用户邮箱</span>
                <input id="email-m" placeholder="推荐使用QQ邮箱" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
            </div>
            <div class="input-group" style="margin-top: 5%">
                <span class="input-group-addon">手机号码</span>
                <input id="number-m" placeholder="仅支持大陆" type="text" class="form-control" aria-label="Amount (to the nearest dollar)">
            </div>
            <div style="margin-top: 5%">
                <p style="font-family: 'Microsoft YaHei UI';display: inline-block">验证码:</p>
                <input id="input-m" style="width: 60%;display: inline-block" placeholder="请输入验证码"  class="form-control" aria-label="Amount (to the nearest dollar)">
                <input style="border-radius: 5%;background-color: #f6f6f6;border: 0px" type = "button" id="code-m" onclick="createCode()"/>
            </div>
            <button   id="myButton-m" data-loading-text="Loading..." autocomplete="off"   onclick="
               var inputCode = document.getElementById('input-m').value.toUpperCase(); //取得输入的验证码并转化为大写
                var time=new Date();
         if($('#name-m').val()&&$('#password-m').val()&&$('#email-m').val()&&$('#number-m').val())
{
    var reg=/^[A-Za-z0-9]{6,12}$/;
    var rule=$('#name-m').val();
     if(!reg.test(rule)){
 document.getElementById('alert-content2-m').innerHTML='名字不符合规定！';
        $('#warning2-m').css('display','block');
        setTimeout(function() {
          $('#warning2-m').css('display','none');
        },3000)
     }
     else {
            var reg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
    var rule=$('#email-m').val();
    if(!reg.test(rule)){
      document.getElementById('alert-content2-m').innerHTML='邮箱格式不符合规定！';
        $('#warning2-m').css('display','block');
        setTimeout(function() {
          $('#warning2-m').css('display','none');
        },3000)
        }
        else {
                 var reg=/^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;
                    var rule=$('#number-m').val();
                    if(!reg.test(rule)){
                    document.getElementById('alert-content2-m').innerHTML='手机号码不符合规定！';
        $('#warning2-m').css('display','block');
        setTimeout(function() {
          $('#warning2-m').css('display','none');
        },3000)

              }
              else {

                        if(inputCode!=code ) {
                        document.getElementById('alert-content2-m').innerHTML='验证码输入错误！';
                        $('#warning2-m').css('display','block');
                        setTimeout(function() {
                            $('#warning2-m').css('display','none');
                        },3000)
                        createCode();
                        document.getElementById('input-m').value ='';
                        }
        else {
$.get('../php/register.php',{name:$('#name-m').val(),password:$('#password-m').val(),email:$('#email-m').val(),number:$('#number-m').val(),retime:time.toTimeString().split('GMT')[0]+time.toUTCString().split('2017')[0]+time.getFullYear()},function (data) {
})
                       $('#success-m').css('display','block');
                       setTimeout(function() {
                           window.location.href='../content/login.html';
                       },2000);
        }
              }
        }
     }
}
else {
        document.getElementById('alert-content-m').innerHTML='请注意内容有空！';
        $('#warning-m').css('display','block');
        setTimeout(function() {
          $('#warning-m').css('display','none');
        },3000)
}" style="margin-left: 80%;margin-top: 5%;border-radius: 10%;height: 30px;width: 60px;border: 0px;background-color: #62b900">
                <p style="font-family: 'Microsoft YaHei UI';font-size: 15px;color: white;margin-top: 5%">注册</p>
            </button>
        </div>
    </div>
</div>
</body>
<script>
    var height;
    var width;
    height=window.screen.height;
    width=window.screen.width;
    $('.container-fluid').css('height',height);
    $('.container-fluid').css('width',width);
    width==1680?($('#input').css('width','65%')):false
    width==1440?($('#input').css('width','63%')):false
    width==1400?($('#input').css('width','58%'),
        $('#change').css('font-size','small'),
    $('#change8').css('font-size','small'),
    $('.test').css('height','18%'),
    $('.test').css('width','20%')):false
    width==1366?(  $('#input').css('width','55%'),
        $('#change').css('font-size','small'),
    $('#change8').css('font-size','small')):false
    if(350<=width&&width<=414){
        $('.container-fluid').css('display','none');
        $('#mobile').css('display','block');
        $('#tips').css('display','none');
        $('#done').css('display','none');
        $('#warning').css('display','none');
        $('#big').css('display','none');
        $('#p').css('display','none');
        $('#mobile').css('display','block');
        $('#click-m').click(function () {
            var time=new Date();
            var inputCode = document.getElementById("input-m").value.toUpperCase(); //取得输入的验证码并转化为大写
            $('#name-m').val()&&$('#password-m').val()?(
                $.get('../php/login.php',{name:$('#name-m').val(),password:$('#password-m').val(),ip:ipaddress,browser:browser,sys:system,year:time.getFullYear(),month:time.getMonth()+1,day:time.getDate(),logtime:time.toTimeString().split('GMT')[0]},function(data) {
                    data==1?( inputCode!=code ?( document.getElementById('alert-content-m').innerHTML='验证码输入错误！',
                        $('#warning-m').css('display','block'),
                        setTimeout(function() {
                            $('#warning-m').css('display','none');
                        },3000),
                        createCode(),//刷新验证码
                        document.getElementById("input-m").value = ""):(
                        $('#done-m').css('display','block'),
                            setTimeout(function() {
                                localStorage.setItem('name',$('#name-m').val());
                                localStorage.setItem('passwd',$('#password-m').val());
                                window.location.href='../control/user.html';
                            },3000)
                    )):(
                        document.getElementById('alert-content-m').innerHTML='用户名和密码出错！',
                            $('#warning-m').css('display','block'),
                            setTimeout(function() {
                                $('#warning-m').css('display','none');
                            },3000)
                    )
                })):(
                document.getElementById('alert-content-m').innerHTML='用户名和密码不能为空！',
            $('#warning-m').css('display','block'),
            setTimeout(function() {
                $('#warning-m').css('display','none');
            },3000)
            )
        });

    }
    var ipaddress=localStorage.getItem('ipaddress');
    var browser=localStorage.getItem('browser');
    var system=localStorage.getItem('system');
    var name=localStorage.getItem('name');
    var passwd=localStorage.getItem('passwd');
    $('#input-m').css('width','55%')
    if(name&&passwd){
        var time=new Date();
        $.get('../php/login.php',{name:$('#name').val(),password:$('#password').val(),ip:ipaddress,browser:browser,sys:system,logtime:time.toTimeString().split('GMT')[0]+time.toUTCString().split('2017')[0]+time.getFullYear()},function(data) {
            if(data==1){
                $('#done').css('display','block');
                setTimeout(function() {
                    localStorage.setItem('name',$('#name').val());
                    localStorage.setItem('passwd',$('#password').val());
                    window.location.href='../control/user.html';
                },3000)
            }
            else {
                document.getElementById('alert-content').innerHTML='用户名和密码出错！';
                $('#warning').css('display','block');
                setTimeout(function() {
                    $('#warning').css('display','none');
                },3000)
            }
        })
        window.location.href='../control/user.html'
    }
    $('#click').click(function () {
        var time=new Date();
        var inputCode = document.getElementById("input").value.toUpperCase(); //取得输入的验证码并转化为大写
        $('#name').val()&&$('#password').val()?( $.get('../php/login.php',{name:$('#name').val(),password:$('#password').val(),ip:ipaddress,browser:browser,sys:system,year:time.getFullYear(),month:time.getMonth()+1,day:time.getDate(),logtime:time.toTimeString().split('GMT')[0]},function(data) {
            data==1?(inputCode!=code ?( document.getElementById('alert-content').innerHTML='验证码输入错误！',
                $('#warning').css('display','block'),
                setTimeout(function() {
                    $('#warning').css('display','none');
                },3000),
                createCode(),
                document.getElementById("input").value = ""):(
                $('#done').css('display','block'),
                    setTimeout(function() {
                        localStorage.setItem('name',$('#name').val());
                        localStorage.setItem('passwd',$('#password').val());
                        window.location.href='../control/user.html';
                    },3000)
            )):(
                document.getElementById('alert-content').innerHTML='用户或者密码错误！',
                    $('#warning').css('display','block'),
                    setTimeout(function() {
                        $('#warning').css('display','none');
                    },3000)
            )
        })):(
            document.getElementById('alert-content').innerHTML='用户名和密码不能为空！',
        $('#warning').css('display','block'),
        setTimeout(function() {
            $('#warning').css('display','none');
        },3000)
        )
    });
    iptracket();
    detectOS();
    detectionbrowser();
    function detectOS() {
        var sUserAgent = navigator.userAgent;
        var isWin = (navigator.platform == "Win32") || (navigator.platform == "Windows");
        var isMac = (navigator.platform == "Mac68K") || (navigator.platform == "MacPPC") || (navigator.platform == "Macintosh") || (navigator.platform == "MacIntel");
        if (isMac) localStorage.setItem('system',"Mac") ;
        var isUnix = (navigator.platform == "X11") && !isWin && !isMac;
        if (isUnix)localStorage.setItem('system',"Unix") ;
        var isLinux = (String(navigator.platform).indexOf("Linux") > -1);
        if (isLinux) localStorage.setItem('system',"Linux") ;
        if (isWin) {
            var isWin2K = sUserAgent.indexOf("Windows NT 5.0") > -1 || sUserAgent.indexOf("Windows 2000") > -1;
            if (isWin2K) localStorage.setItem('system',"Win2000") ;
            var isWinXP = sUserAgent.indexOf("Windows NT 5.1") > -1 || sUserAgent.indexOf("Windows XP") > -1;
            if (isWinXP) localStorage.setItem('system',"WinXP") ;
            var isWin2003 = sUserAgent.indexOf("Windows NT 5.2") > -1 || sUserAgent.indexOf("Windows 2003") > -1;
            if (isWin2003) localStorage.setItem('system',"Win2003") ;
            var isWinVista= sUserAgent.indexOf("Windows NT 6.0") > -1 || sUserAgent.indexOf("Windows Vista") > -1;
            if (isWinVista) localStorage.setItem('system',"WinVista") ;
            var isWin7 = sUserAgent.indexOf("Windows NT 6.1") > -1 || sUserAgent.indexOf("Windows 7") > -1;
            if (isWin7) localStorage.setItem('system',"Win7") ;
            var isWin81 = sUserAgent.indexOf("Windows NT 6.3") > -1 || sUserAgent.indexOf("Windows 8.1") > -1;
            if (isWin81) localStorage.setItem('system',"Win8.1") ;
            var isWin10 = sUserAgent.indexOf("Windows NT 6.4") > -1 || sUserAgent.indexOf("Windows 10") > -1;
            if (isWin10) localStorage.setItem('system',"Win10") ;
            var isWin10 = sUserAgent.indexOf("Windows NT 10") > -1 || sUserAgent.indexOf("Windows 10") > -1;
            if (isWin10) localStorage.setItem('system',"Win10") ;
        }
        var u = navigator.userAgent;
        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
        var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
        if (isAndroid) localStorage.setItem('system',"Android") ;
        if (isiOS) localStorage.setItem('system',"iOS") ;
        return "other";
    }
    function detectionbrowser() {
        var Sys = {};
        var ua = navigator.userAgent.toLowerCase();
        var s;
        (s = ua.match(/msie ([\d.]+)/)) ? Sys.ie = s[1] :
            (s = ua.match(/firefox\/([\d.]+)/)) ? Sys.firefox = s[1] :
                (s = ua.match(/chrome\/([\d.]+)/)) ? Sys.chrome = s[1] :
                    (s = ua.match(/opera.([\d.]+)/)) ? Sys.opera = s[1] :
                        (s = ua.match(/version\/([\d.]+).*safari/)) ? Sys.safari = s[1] : 0;
        /*以下进行测试*/
        if (Sys.ie) localStorage.setItem('browser',('IE: ' + Sys.ie)) ;
        if (Sys.firefox) localStorage.setItem('browser',('Firefox: ' + Sys.firefox)) ;
        if (Sys.chrome) localStorage.setItem('browser',('Chrome: ' + Sys.chrome)) ;
        if (Sys.opera) localStorage.setItem('browser',('Opera: ' + Sys.opera)) ;
        if (Sys.safari) localStorage.setItem('browser',('Safari: ' + Sys.safari)) ;
    }
    function iptracket() {
        $.getJSON('//ipapi.co/json/', function(data) {
            localStorage.setItem('ipaddress', JSON.stringify(data, null, 2).split("}")[0].split(":")[1].split(',')[0]);
        });
    }
    var code ; //在全局定义验证码
    //产生验证码
    function createCode(){
        code = "";
        var codeLength = 4;//验证码的长度
        var checkCode = document.getElementById("code");
        if(350<=width&&width<=414){
            var checkCode = document.getElementById("code-m");
        }
        var random = new Array(0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R',
            'S','T','U','V','W','X','Y','Z');//随机数
        for(var i = 0; i < codeLength; i++) {//循环操作
            var index = Math.floor(Math.random()*36);//取得随机数的索引（0~35）
            code += random[index];//根据索引取得随机数加到code上
        }
        checkCode.value = code;//把code值赋给验证码
    }
    window.onload = function createCode(){
        code = "";
        var codeLength = 4;//验证码的长度
        var checkCode = document.getElementById("code");
        if(350<=width&&width<=414){
            var checkCode = document.getElementById("code-m");
        }
        var random = new Array(0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R',
            'S','T','U','V','W','X','Y','Z');//随机数
        for(var i = 0; i < codeLength; i++) {//循环操作
            var index = Math.floor(Math.random()*36);//取得随机数的索引（0~35）
            code += random[index];//根据索引取得随机数加到code上
        }
        checkCode.value = code;//把code值赋给验证码
    }
    //校验验证码
</script>
</html>